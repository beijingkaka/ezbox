diff -urNd linux-2.6.24/drivers/base/Makefile linux-2.6.24-hi3515/drivers/base/Makefile
--- linux-2.6.24/drivers/base/Makefile	2008-01-25 06:58:37.000000000 +0800
+++ linux-2.6.24-hi3515/drivers/base/Makefile	2010-03-16 10:41:00.000000000 +0800
@@ -9,6 +9,7 @@
 obj-$(CONFIG_ISA)	+= isa.o
 obj-$(CONFIG_FW_LOADER)	+= firmware_class.o
 obj-$(CONFIG_NUMA)	+= node.o
+obj-$(CONFIG_MODULES)	+= kcom.o
 obj-$(CONFIG_MEMORY_HOTPLUG_SPARSE) += memory.o
 obj-$(CONFIG_SMP)	+= topology.o
 obj-$(CONFIG_SYS_HYPERVISOR) += hypervisor.o
